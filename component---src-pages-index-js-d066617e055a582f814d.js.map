{"version":3,"sources":["webpack:///./src/components/episode-link/index.js","webpack:///./src/components/episode-link/episode-link.jsx","webpack:///./src/components/current-episode/index.js","webpack:///./src/components/current-episode/current-episode.jsx","webpack:///./src/components/episode-preview/index.js","webpack:///./src/components/episode-preview/episode-preview.jsx","webpack:///./src/pages/index.js","webpack:///./src/components/current-episode/current-episode.module.css","webpack:///./src/hocs/with-flattened-query.js","webpack:///./src/pages/index.module.css","webpack:///./src/components/episode-preview/episode-preview.module.css"],"names":["EpisodeLink","children","slug","to","toLowerCase","CurrentEpisode","num","title","date","src","description","cover","className","styles","episodeContainer","coverContainer","fluid","image","childImageSharp","episodeInfo","inset","meta","readMore","playerContainer","EpisodePreview","IndexPageQuery","withFlattenedQuery","data","currentEpisode","currentEpisodes","episodes","getFluidImage","currentEpisodeHeading","episodeList","map","ep","previewWrapper","key","module","exports","Component","props","dataProps","Object","keys","reduce","json","flattened","edges","edge","node"],"mappings":"+RAEeA,ECEK,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAUC,EAAb,EAAaA,KAAb,OAAwB,kBAAC,OAAD,CAAMC,GAAE,aAAeD,EAAKE,eAAkBH,I,qBCF3EI,ECQQ,SAAC,GAAD,IAAGC,EAAH,EAAGA,IAAKC,EAAR,EAAQA,MAAOC,EAAf,EAAeA,KAAMC,EAArB,EAAqBA,IAAKC,EAA1B,EAA0BA,YAAaC,EAAvC,EAAuCA,MAAOT,EAA9C,EAA8CA,KAA9C,OACnB,kBAAC,IAAD,CAAKU,UAAWC,IAAOC,kBACnB,kBAAC,IAAD,CAAKF,UAAWC,IAAOE,gBACnB,kBAAC,EAAD,CAAab,KAAMA,GACf,kBAAC,IAAD,CAAOc,MAAOL,EAAMM,MAAMC,gBAAgBF,UAGlD,kBAAC,IAAD,CAAKJ,UAAWC,IAAOM,YAAaC,MAAM,MACtC,0BAAMR,UAAU,mBACZ,kBAAC,EAAD,CAAaV,KAAMA,GACf,kBAAC,IAAD,CAAcI,IAAKA,EAAKC,MAAOA,MAGvC,yBAAKK,UAAWC,IAAOQ,MACnB,0BAAMT,UAAWC,IAAOL,MAAOA,IAEnC,uBAAGI,UAAWC,IAAOH,aAAcA,GACnC,0BAAME,UAAWC,IAAOS,UACpB,kBAAC,EAAD,CAAapB,KAAMA,GAAnB,cAEJ,yBAAKU,UAAWC,IAAOU,iBACnB,kBAAC,IAAD,CAAad,IAAKA,Q,qBC7BnBe,ECOQ,SAAC,GAAD,IAAGb,EAAH,EAAGA,MAAOH,EAAV,EAAUA,KAAMF,EAAhB,EAAgBA,IAAKJ,EAArB,EAAqBA,KAAMK,EAA3B,EAA2BA,MAA3B,OACnB,kBAAC,IAAD,KACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOS,MAAOL,EAAMM,MAAMC,gBAAgBF,SAE9C,kBAAC,IAAD,KACI,0BAAMJ,UAAU,qBACZ,kBAAC,EAAD,CAAaV,KAAMA,GACf,kBAAC,IAAD,CAAcI,IAAKA,EAAKC,MAAOA,MAGvC,0BAAMK,UAAWC,IAAOQ,MAAOb,M,iCCoB9BiB,EAAc,aAmBZC,uBA/CG,SAAC,GAAc,IAAZC,EAAW,EAAXA,KACXC,EAAiBD,EAAKE,gBAAgB,GACpCC,EAAaH,EAAbG,SAER,OACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAKb,MAAOc,YAAcH,EAAejB,MAAMM,OAAOR,IAAKF,MAAM,SACjE,wBAAIK,UAAWC,IAAOmB,uBAAtB,mBACA,kBAAC,EAAmBJ,GACpB,wBAAIhB,UAAU,mBAAd,iBACA,yBAAKA,UAAWC,IAAOoB,aAClBH,EAASI,KAAI,SAAAC,GAAE,OACZ,yBAAKvB,UAAWC,IAAOuB,eAAgBC,IAAKF,EAAG5B,OAC3C,kBAAC,EAAmB4B,a,qBCxB5CG,EAAOC,QAAU,CAAC,iBAAmB,mDAAmD,eAAiB,iDAAiD,YAAc,8CAA8C,QAAU,yCAAyC,KAAO,sCAAsC,KAAO,sCAAsC,gBAAkB,kDAAkD,YAAc,6CAA6C,SAAW,6C,+ICK7e,IAWeb,EAXY,SAAAc,GAAS,OAAI,SAAAC,GACpC,IAAMC,EAAYC,OAAOC,KAAKH,EAAMd,MAAMkB,QAAO,SAAClB,EAAMU,GACpD,IANUS,EAMJC,GANID,EAMiBL,EAAMd,KAAKU,IAL9BW,MAAQF,EAAKE,MAAMd,KAAI,SAAAe,GAAI,OAAIA,EAAKC,QAAQ,GAQpD,OAFAvB,EAAKU,GAAOU,EAELpB,IACR,IAEH,OAAO,kBAACa,EAAD,iBAAeC,EAAf,CAAsBd,KAAMe,Q,qBCbvCJ,EAAOC,QAAU,CAAC,sBAAwB,+CAA+C,YAAc,sC,qBCAvGD,EAAOC,QAAU,CAAC,KAAO","file":"component---src-pages-index-js-d066617e055a582f814d.js","sourcesContent":["import EpisodeLink from './episode-link';\n\nexport default EpisodeLink;\n","import React from 'react';\nimport { node, string } from 'prop-types';\nimport { Link } from 'gatsby';\n\nconst EpisodeLink = ({ children, slug }) => <Link to={`/episodes/${slug.toLowerCase()}`}>{children}</Link>;\n\nEpisodeLink.propTypes = {\n    children: node.isRequired,\n    slug: string.isRequired\n};\n\nexport default EpisodeLink;\n","import CurrentEpisode from './current-episode';\n\nexport default CurrentEpisode;\n","import React from 'react';\nimport { string, number, shape } from 'prop-types';\nimport Image from 'gatsby-image';\nimport Box from '../layout/box';\nimport AudioPlayer from '../media/audio-player';\nimport EpisodeTitle from '../episode-title';\nimport EpisodeLink from '../episode-link';\nimport styles from './current-episode.module.css';\nimport { coverArtPropType } from '../../prop-types';\n\nconst CurrentEpisode = ({ num, title, date, src, description, cover, slug }) => (\n    <Box className={styles.episodeContainer}>\n        <Box className={styles.coverContainer}>\n            <EpisodeLink slug={slug}>\n                <Image fluid={cover.image.childImageSharp.fluid} />\n            </EpisodeLink>\n        </Box>\n        <Box className={styles.episodeInfo} inset=\"md\">\n            <span className=\"section-heading\">\n                <EpisodeLink slug={slug}>\n                    <EpisodeTitle num={num} title={title} />\n                </EpisodeLink>\n            </span>\n            <div className={styles.meta}>\n                <span className={styles.date}>{date}</span>\n            </div>\n            <p className={styles.description}>{description}</p>\n            <span className={styles.readMore}>\n                <EpisodeLink slug={slug}>Read more</EpisodeLink>\n            </span>\n            <div className={styles.playerContainer}>\n                <AudioPlayer src={src} />\n            </div>\n        </Box>\n    </Box>\n);\nCurrentEpisode.propTypes = {\n    cover: shape(coverArtPropType),\n    date: string.isRequired,\n    description: string.isRequired,\n    num: number.isRequired,\n    slug: string.isRequired,\n    src: string,\n    title: string.isRequired\n};\n\nexport default CurrentEpisode;\n","import EpisodePreview from './episode-preview';\n\nexport default EpisodePreview;\n","import React from 'react';\nimport { string, number, shape } from 'prop-types';\nimport Image from 'gatsby-image';\nimport Box from '../layout/box';\nimport EpisodeTitle from '../episode-title';\nimport EpisodeLink from '../episode-link';\nimport { coverArtPropType } from '../../prop-types';\nimport styles from './episode-preview.module.css';\n\nconst EpisodePreview = ({ cover, date, num, slug, title }) => (\n    <Box>\n        <Box>\n            <Image fluid={cover.image.childImageSharp.fluid} />\n        </Box>\n        <Box>\n            <span className=\"paragraph-heading\">\n                <EpisodeLink slug={slug}>\n                    <EpisodeTitle num={num} title={title} />\n                </EpisodeLink>\n            </span>\n            <span className={styles.meta}>{date}</span>\n        </Box>\n    </Box>\n);\n\nEpisodePreview.propTypes = {\n    cover: shape(coverArtPropType),\n    date: string,\n    num: number,\n    slug: string,\n    title: string\n};\n\nexport default EpisodePreview;\n","import React from 'react';\nimport { graphql } from 'gatsby';\nimport { arrayOf, shape } from 'prop-types';\nimport { episodePropType } from '../prop-types';\nimport { withFlattenedQuery } from '../hocs';\nimport PageLayout from '../components/page-layout';\nimport Seo from '../components/seo';\nimport CurrentEpisode from '../components/current-episode';\nimport EpisodePreview from '../components/episode-preview';\nimport { getFluidImage } from '../util';\nimport styles from './index.module.css';\n\nconst IndexPage = ({ data }) => {\n    const currentEpisode = data.currentEpisodes[0];\n    const { episodes } = data;\n\n    return (\n        <PageLayout>\n            <Seo image={getFluidImage(currentEpisode.cover.image).src} title=\"Home\" />\n            <h1 className={styles.currentEpisodeHeading}>Current Episode</h1>\n            <CurrentEpisode {...currentEpisode} />\n            <h2 className=\"section-heading\">Past Epsiodes</h2>\n            <div className={styles.episodeList}>\n                {episodes.map(ep => (\n                    <div className={styles.previewWrapper} key={ep.title}>\n                        <EpisodePreview {...ep} />\n                    </div>\n                ))}\n            </div>\n        </PageLayout>\n    );\n};\n\n// TODO: fix prop types to reflect query\nIndexPage.propTypes = {\n    data: shape({\n        currentEpisodes: arrayOf(shape(episodePropType))\n    })\n};\n\nexport const IndexPageQuery = graphql`\n    query CurrentEpisode {\n        currentEpisodes: allEpisodesJson(sort: { fields: [date], order: ASC }, limit: 1) {\n            edges {\n                node {\n                    ...episodeFullFragment\n                }\n            }\n        }\n        episodes: allEpisodesJson(sort: { fields: [date], order: ASC }, skip: 1) {\n            edges {\n                node {\n                    ...episodePreviewFragment\n                }\n            }\n        }\n    }\n`;\n\nexport default withFlattenedQuery(IndexPage);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"episodeContainer\":\"current-episode-module--episode-container--Hyhjn\",\"coverContainer\":\"current-episode-module--cover-container--kQ7mi\",\"episodeInfo\":\"current-episode-module--episode-info--4_Z0W\",\"divider\":\"current-episode-module--divider--2JWm4\",\"meta\":\"current-episode-module--meta--3s1v2\",\"date\":\"current-episode-module--date--1XWmG\",\"playerContainer\":\"current-episode-module--player-container--2v1a5\",\"description\":\"current-episode-module--description--12g4V\",\"readMore\":\"current-episode-module--read-more--2e66g\"};","import React from 'react';\n\nfunction getNodes(json) {\n    return json.edges ? json.edges.map(edge => edge.node) : [];\n}\n\nconst withFlattenedQuery = Component => props => {\n    const dataProps = Object.keys(props.data).reduce((data, key) => {\n        const flattened = getNodes(props.data[key]);\n        data[key] = flattened;\n\n        return data;\n    }, {});\n\n    return <Component {...props} data={dataProps} />;\n};\n\nexport default withFlattenedQuery;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"currentEpisodeHeading\":\"index-module--current-episode-heading--1ipoF\",\"episodeList\":\"index-module--episode-list--2JzGN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meta\":\"episode-preview-module--meta--3IuPG\"};"],"sourceRoot":""}